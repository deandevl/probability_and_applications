<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rick Dean">
<meta name="dcterms.date" content="2025-02-28">

<title>Continuous Probability Distributions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="4_1_continuous_random_files/libs/clipboard/clipboard.min.js"></script>
<script src="4_1_continuous_random_files/libs/quarto-html/quarto.js"></script>
<script src="4_1_continuous_random_files/libs/quarto-html/popper.min.js"></script>
<script src="4_1_continuous_random_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="4_1_continuous_random_files/libs/quarto-html/anchor.min.js"></script>
<link href="4_1_continuous_random_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="4_1_continuous_random_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="4_1_continuous_random_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="4_1_continuous_random_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="4_1_continuous_random_files/libs/bootstrap/bootstrap-22c2c57537bf7b0b6388d73423d22c46.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Continuous Probability Distributions</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rick Dean </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 28, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#setup" id="toc-setup">Setup</a></li>
  <li><a href="#continuous-random-variables-and-their-probability-distributions" id="toc-continuous-random-variables-and-their-probability-distributions">4.1 Continuous Random Variables and Their Probability Distributions</a>
  <ul>
  <li><a href="#definition-4.1-probability-density-functionpdf" id="toc-definition-4.1-probability-density-functionpdf">Definition 4.1: Probability density function(pdf)</a></li>
  <li><a href="#example-4.1" id="toc-example-4.1">Example 4.1</a></li>
  <li><a href="#example-4.2" id="toc-example-4.2">Example 4.2</a></li>
  <li><a href="#definition-4.2-distribution-function-df" id="toc-definition-4.2-distribution-function-df">Definition 4.2: Distribution function (df)</a></li>
  <li><a href="#exercises" id="toc-exercises">Exercises</a></li>
  </ul></li>
  <li><a href="#expected-values-of-continuous-random-variables" id="toc-expected-values-of-continuous-random-variables">4.2 Expected values of continuous random variables</a>
  <ul>
  <li><a href="#definition-4.3-expected-value" id="toc-definition-4.3-expected-value">Definition 4.3: Expected value</a></li>
  <li><a href="#theorem-4.1-egx-for-x-with-a-pdf-fx-and-another-function-gx" id="toc-theorem-4.1-egx-for-x-with-a-pdf-fx-and-another-function-gx">Theorem 4.1: <span class="math inline">\(E[g(X)]\)</span> for <span class="math inline">\(X\)</span> with a pdf <span class="math inline">\(f(x)\)</span> and another function <span class="math inline">\(g(x)\)</span></a></li>
  <li><a href="#exercises-1" id="toc-exercises-1">Exercises</a></li>
  </ul></li>
  </ul>
</nav>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rootSolve)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RplotterPkg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="continuous-random-variables-and-their-probability-distributions" class="level2">
<h2 class="anchored" data-anchor-id="continuous-random-variables-and-their-probability-distributions">4.1 Continuous Random Variables and Their Probability Distributions</h2>
<blockquote class="blockquote">
<p>â€¦we have measured the life lengths of 50 batteries of a certain type, selected from a larger population of such batteries.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data_file_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">"data"</span>, <span class="st">"battery_hours.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>bat_hours_dt <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">fread</span>(data_file_path) <span class="sc">|&gt;</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  data.table<span class="sc">::</span><span class="fu">setorderv</span>(<span class="at">cols =</span> <span class="st">"hours"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kable</span>(bat_hours_dt[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 4.1: Life lengths of Batteries (first 6 of 50 in hundreds of hours)</caption>
<thead>
<tr class="header">
<th style="text-align: right;">idx</th>
<th style="text-align: right;">hours</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">31</td>
<td style="text-align: right;">0.023</td>
</tr>
<tr class="even">
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.186</td>
</tr>
<tr class="odd">
<td style="text-align: right;">32</td>
<td style="text-align: right;">0.225</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: right;">0.234</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.294</td>
</tr>
<tr class="even">
<td style="text-align: right;">38</td>
<td style="text-align: right;">0.333</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Grouping the battery lengths into 9 intervals and computing their relative frequencies we have:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>hours_cut_tbl <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="fu">cut</span>(<span class="at">x=</span>bat_hours_dt<span class="sc">$</span>hours, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">9</span>,<span class="dv">1</span>),<span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">right =</span> <span class="cn">TRUE</span>))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>hours_cut <span class="ot">&lt;-</span> <span class="fu">levels</span>(<span class="fu">cut</span>(<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">9</span>,<span class="dv">1</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">9</span>,<span class="dv">1</span>), <span class="at">right =</span> <span class="cn">TRUE</span>))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>hours_cut_dt <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">as.data.table</span>(hours_cut_tbl) <span class="sc">|&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  _[, <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(<span class="at">rel_freq =</span> N<span class="sc">/</span><span class="fl">50.0</span>, <span class="at">label =</span> <span class="fu">as.factor</span>(hours_cut))] <span class="sc">|&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  data.table<span class="sc">::</span><span class="fu">setnames</span>(<span class="at">old =</span> <span class="st">"V1"</span>, <span class="at">new =</span> <span class="st">"interv"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kable</span>(hours_cut_dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 4.1a: Relative frequency of battery life grouped into 9 intervals</caption>
<thead>
<tr class="header">
<th style="text-align: left;">interv</th>
<th style="text-align: right;">N</th>
<th style="text-align: right;">rel_freq</th>
<th style="text-align: left;">label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0.32</td>
<td style="text-align: left;">(0,1]</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: left;">(1,2]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: left;">(2,3]</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: left;">(3,4]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: left;">(4,5]</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: left;">(5,6]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: left;">(6,7]</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: left;">(7,8]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: left;">(8,9]</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>32% or 16 of the 50 observations fall into the first interval [0, 1].</p>
<blockquote class="blockquote">
<p>The relative frequency histogram for these data shows clearly that most of the life lengths are near zero, and the frequency drops off rather smoothly as we look at longer life lengths.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>exp_curve_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="fl">0.5</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span>x<span class="sc">/</span><span class="dv">2</span>)}</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>exp_curve_dt <span class="ot">&lt;-</span> <span class="fu">data.table</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>,<span class="dv">9</span>,<span class="fl">0.1</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">sapply</span>(<span class="fu">seq</span>(<span class="fl">0.1</span>,<span class="dv">9</span>,<span class="fl">0.1</span>), exp_curve_fun)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x_400 <span class="ot">&lt;-</span> <span class="fl">4.1</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>y_400 <span class="ot">&lt;-</span> <span class="fu">exp_curve_fun</span>(x_400)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>RplotterPkg<span class="sc">::</span><span class="fu">create_bar_plot</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">df =</span> hours_cut_dt,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">aes_x =</span> <span class="st">"label"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">aes_y =</span> <span class="st">"rel_freq"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_title =</span> <span class="st">"Life Length (hundreds of hours)"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_title =</span> <span class="st">"Relative Frequency"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">rot_y_tic_label =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">bar_fill =</span> <span class="st">"blue"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">bar_alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> exp_curve_dt, <span class="fu">aes</span>(<span class="at">x=</span> x, <span class="at">y =</span> y), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="at">data =</span> exp_curve_dt[x <span class="sc">&gt;=</span> x_400,], <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> y), <span class="at">fill =</span> <span class="st">"grey70"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="4_1_continuous_random_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Figure 4.1: Battery Life Lengths(hundreds of hours)</figcaption>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>This histogram of Figure 4.1 looks as though it could be approximated quite closely by a negative exponential curve.</p>
</blockquote>
<p><span class="math display">\[f(x) = \frac{1}{2}\exp^{-\frac{x}{2}}, x &gt; 0\]</span></p>
<p>The red line approximates this particular function.</p>
<blockquote class="blockquote">
<p>If we want to use a battery of this type in the future, we might want to know the probability that it will last longer than 400 hours.</p>
</blockquote>
<p>The gray area to the right of the value 4 in figure 4.1 approximates this probability. Calculate the gray area under the curve with an integration under the curve starting at 4:</p>
<p><span class="math inline">\(\hspace{25em}P(X\gt 4)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\displaystyle\int^\infty_4\frac{1}{2}\exp^{\frac{x}{2}}\mathrm{d}x\)</span></p>
<p>Since the antiderivitive for evaluating the integral is <span class="math inline">\(-e^{-\frac{x}{2}}\quad|^b_a\)</span></p>
<p><span class="math inline">\(\hspace{28em}=(-e^{-\frac{\infty}{2}}) - (-e^{-\frac{4}{2}})\)</span></p>
<p><span class="math inline">\(\hspace{28em}=(0) + (e^{-2})\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="sc">-</span><span class="fu">exp</span>(<span class="sc">-</span>x<span class="sc">/</span><span class="dv">2</span>)}</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>P_4_inf <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="cn">Inf</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The probability of <span class="math inline">\(X\)</span> greater than 400 hours is 0.1353353</p>
<p>For comparison the sample had 8 observations greater than 400 hours or 8/50 = 0.16.</p>
<blockquote class="blockquote">
<p>The function <span class="math inline">\(f(x)\)</span>, which models the relative frequency behavior of <span class="math inline">\(X\)</span>, is called the <em>probability density function</em> or pdf.</p>
</blockquote>
<section id="definition-4.1-probability-density-functionpdf" class="level3">
<h3 class="anchored" data-anchor-id="definition-4.1-probability-density-functionpdf">Definition 4.1: Probability density function(pdf)</h3>
<p><span class="math inline">\(f(x)\)</span> is called a probability density function, such that:</p>
<ul>
<li><p><span class="math inline">\(f(x) \geq 0\)</span> for all <span class="math inline">\(x\)</span></p></li>
<li><p><span class="math inline">\(\displaystyle\int^\infty_{-\infty}f(x)dx = 1\)</span></p></li>
<li><p><span class="math inline">\(P(a \le X \le b) = \int^b_af(x)dx\)</span></p></li>
</ul>
<p>Note that for a specific value for the pdf, the probability is 0:</p>
<p><span class="math display">\[P(X=a)=\int^a_af(x)\mathrm{d}x=0\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>P_4_4 <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(P(X=400)=\)</span> 0</p>
<blockquote class="blockquote">
<p>Assigning probability zero does not rule out <span class="math inline">\(a\)</span> as a possible battery length, but it does imply that the chance of observing this particular length is extremely small.</p>
</blockquote>
</section>
<section id="example-4.1" class="level3">
<h3 class="anchored" data-anchor-id="example-4.1">Example 4.1</h3>
<p>Find the probability that the life of a particular battery of this type is less than 200 or greater than 400 hours.</p>
<p><span class="math inline">\(\hspace{25em}P(X &lt; 200 \cup X &gt; 400)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=P(X &lt; 200) + P(X &gt; 400)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\displaystyle\int^2_0\frac{1}{2}\exp^{\frac{x}{2}}\mathrm{d}x + \int^\infty_4\frac{1}{2}\exp^{\frac{x}{2}}\mathrm{d}x\)</span></p>
<p><span class="math inline">\(\hspace{28em}=(-e^\frac{-2}{2}) - (-e^\frac{0}{2}) +  0 - (-e^\frac{-4}{2})\)</span></p>
<p><span class="math inline">\(\hspace{28em}=(-e^{-1} + 1) + (e^{-2})\)</span></p>
<p><span class="math inline">\(\hspace{28em}=(0.6321) + (0.1353) = 0.7674\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>P_0_2 <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">2</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>P_0_2_U_4_inf <span class="ot">&lt;-</span> P_0_2 <span class="sc">+</span> P_4_inf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(P(X &lt; 200 \cup X &gt; 400) =\)</span> 0.7674558</p>
</section>
<section id="example-4.2" class="level3">
<h3 class="anchored" data-anchor-id="example-4.2">Example 4.2</h3>
<p>Find the probability that a battery of this type lasts more than 300 hours, given that it already has been in use for more than 200 hours.</p>
<p><span class="math inline">\(\hspace{25em}P(X &gt; 3|X &gt; 2)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\dfrac{P(X &gt; 3)}{P(X &gt; 2)}\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\dfrac{\displaystyle\int^\infty_3\frac{1}{2}e^{-\frac{1}{2}}\mathrm{d}x}{\displaystyle\int^\infty_2\frac{1}{2}e^{-\frac{1}{2}}\mathrm{d}x}\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\dfrac{(-e^{-\frac{\infty}{2}} - (-e^{-\frac{3}{2}}))} {(-e^{-\frac{\infty}{2}} - (-e^{-\frac{2}{2}}))}\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\dfrac{e^{-\frac{3}{2}}}{e^{-\frac{2}{2}}}\)</span></p>
<p><span class="math inline">\(\hspace{28em}=e^{-\frac{1}{2}}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>P_2_inf <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="at">x =</span> <span class="cn">Inf</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="at">x =</span> <span class="dv">2</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>P_3_inf <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="at">x =</span> <span class="cn">Inf</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="at">x =</span> <span class="dv">3</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>P_3_inf_i_2_inf <span class="ot">&lt;-</span> P_3_inf<span class="sc">/</span>P_2_inf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(P(X&gt;3|X&gt;2)=\)</span> 0.6065307</p>
</section>
<section id="definition-4.2-distribution-function-df" class="level3">
<h3 class="anchored" data-anchor-id="definition-4.2-distribution-function-df">Definition 4.2: Distribution function (df)</h3>
<blockquote class="blockquote">
<p>â€¦cumulative probabilities of the form <span class="math inline">\(P(X \leq b)\)</span>.</p>
</blockquote>
<p>The <strong>distribution function</strong> for a random variable <span class="math inline">\(X\)</span> is defined as:</p>
<p><span class="math display">\[F(b) = P(X \leq b) = \int^b_{-\infty}f(x)\mathrm{d}x\]</span> Note that <span class="math inline">\(F'(x)=f(x)\)</span></p>
<p>For the battery example, <span class="math inline">\(X\)</span> has a df given by:</p>
<p><span class="math inline">\(\hspace{25em}F(b)=P(X\le b)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\displaystyle\int^b_0\frac{1}{2}e^{-\frac{x}{2}}\mathrm{d}x\)</span></p>
<p><span class="math inline">\(\hspace{28em}=-e^{-\frac{x}{2}} |^b_0\)</span></p>
<p><span class="math inline">\(\hspace{28em}=1-e^{-\frac{b}{2}}\qquad b&gt;0\)</span></p>
<p><span class="math inline">\(\hspace{28em}=0\qquad b\le 0\)</span></p>
<p>Using the <strong>distribution function</strong> find the probability for battery hours to be greater than 400.</p>
<p><span class="math inline">\(\hspace{25em}P(X &gt; 4) = 1 - P(X \le 4)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=1 - F(4)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=1 - \displaystyle\int^4_0\frac{1}{2}e^{\frac{-x}{2}}\)</span></p>
<p><span class="math inline">\(\hspace{28em}=1 - ((-e^{-\frac{4}{2}}) - (-e^{-\frac{0}{2}}))\)</span></p>
<p><span class="math inline">\(\hspace{28em}=1 + (e^{-2}) - (1)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=e^{-2}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>P_4_inf <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> (<span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Using the distribution function <span class="math inline">\(P(X &gt; 4) =\)</span> 0.1353353, which is the same value we computed above.</p>
<p>Plot the distribution function for the battery hours density function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dist_curve_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(<span class="sc">-</span>x<span class="sc">/</span><span class="dv">2</span>)}</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>dist_curve_dt <span class="ot">&lt;-</span> <span class="fu">data.table</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>,<span class="dv">9</span>,<span class="fl">0.1</span>),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">sapply</span>(<span class="fu">seq</span>(<span class="fl">0.1</span>,<span class="dv">9</span>,<span class="fl">0.1</span>), dist_curve_fun)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>RplotterPkg<span class="sc">::</span><span class="fu">create_scatter_plot</span>(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">df =</span> dist_curve_dt,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">aes_x =</span> <span class="st">"x"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">aes_y =</span> <span class="st">"y"</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_title =</span> <span class="st">"X"</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_title =</span> <span class="st">"F(x)"</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">bold_y =</span> <span class="dv">1</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">connect =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">show_pts =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">rot_y_tic_label =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">x_major_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">9</span>, <span class="dv">1</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="4_1_continuous_random_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Figure 4.2: Distribution function for a continuous random variable</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="exercises" class="level3">
<h3 class="anchored" data-anchor-id="exercises">Exercises</h3>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section">4.3</h4>
<p>pdf = <span class="math inline">\(f(x)=\frac{3}{32}(x - 2)(6 - x)\quad for \quad  2 \le x \le 6\)</span></p>
<p><span class="math inline">\(P(a \le X \le b) = \int^b_a\frac{3}{32}(x - 2)(6 - x)dx\)</span></p>
<p>integral_val = <span class="math inline">\(\frac{3}{8}x^2-x^3/32-\frac{9}{8}x\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){(<span class="dv">3</span><span class="sc">/</span><span class="dv">8</span>)<span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> (x<span class="sc">^</span><span class="dv">3</span><span class="sc">/</span><span class="dv">32</span>) <span class="sc">-</span> (<span class="dv">9</span><span class="sc">/</span><span class="dv">8</span>)<span class="sc">*</span>x}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="a">
<li><span class="math inline">\(P(X&gt;3)=\int\frac{3}{8}x^2-x^3/32-\frac{9}{8}x \quad |^6_3\)</span></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>P_3_6 <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">6</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(P(X&gt;3)=\)</span> 0.84375</p>
<ol start="2" type="a">
<li><span class="math inline">\(P(X&gt;5)\)</span>, find <span class="math inline">\(X\)</span></li>
</ol>
<p>For P(X &gt; 5), find X as the root of: 0.5 - (integral_val(6) - integral_val(x)) between the range 2 and 6.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>root_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="fl">0.5</span> <span class="sc">-</span> (<span class="fu">integral_val</span>(<span class="dv">6</span>) <span class="sc">-</span> ((<span class="dv">3</span><span class="sc">/</span><span class="dv">8</span>)<span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> (x<span class="sc">^</span><span class="dv">3</span><span class="sc">/</span><span class="dv">32</span>) <span class="sc">-</span> (<span class="dv">9</span><span class="sc">/</span><span class="dv">8</span>)<span class="sc">*</span>x))}</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> rootSolve<span class="sc">::</span><span class="fu">uniroot.all</span>(root_fun, <span class="at">lower =</span> <span class="dv">2</span>, <span class="at">upper =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The amount of solar radiation that exceeds exactly 50% of the October days is 4</p>
</section>
<section id="section-1" class="level4">
<h4 class="anchored" data-anchor-id="section-1">4.4</h4>
<p>pdf = <span class="math inline">\(f(x)=\frac{3}{64}x^2(4-x) \quad for \quad  0 \le x \le 4\)</span></p>
<p><span class="math inline">\(P(a \le X \le b) = \int^b_a\frac{3}{64}x^2(4-x)\)</span></p>
<p>integral_val = <span class="math inline">\(\frac{x^3}{16}-\frac{3x^4}{256}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){(x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">/</span><span class="dv">16</span> <span class="sc">-</span> (<span class="dv">3</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">/</span><span class="dv">256</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="a">
<li><span class="math inline">\(F(x) = \hspace{5em}\frac{x^3}{16}-\frac{3x^4}{256} \quad |_0^b\)</span></li>
</ol>
<p><span class="math inline">\(\hspace{7em}=(\frac{256}{256})(\frac{x^3}{16}-\frac{3x^4}{256})\)</span></p>
<p><span class="math inline">\(\hspace{7em}=\frac{x^3}{256}(16 - 3x)\)</span></p>
<ol start="2" type="a">
<li><span class="math inline">\(P(X&gt;2)\)</span></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>P_2_4 <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(P(X&gt;2)\)</span> = 0.6875</p>
<ol start="3" type="a">
<li><span class="math inline">\(P(X&gt;3)\)</span></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>P_3_4 <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> <span class="fu">integral_val</span>((<span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(P(X&gt;3)\)</span> = 0.2617188</p>
<ol start="4" type="a">
<li>Find <span class="math inline">\(X\)</span> where a probability of exceeding is 0.10</li>
</ol>
<p>Find X as the root of: 0.10 - (integral_val(4) - integral_val(x)) between the range 0 to 4</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>root_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="fl">0.10</span> <span class="sc">-</span> (<span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> ((x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">/</span><span class="dv">16</span> <span class="sc">-</span> (<span class="dv">3</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">/</span><span class="dv">256</span>))}</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> rootSolve<span class="sc">::</span><span class="fu">uniroot.all</span>(root_fun, <span class="at">lower =</span> <span class="dv">0</span>, <span class="at">upper =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The amount of cpu hours to be budgeted with a probability which is exceeded only 10 percent of the time is 3.4299372</p>
</section>
<section id="section-2" class="level4">
<h4 class="anchored" data-anchor-id="section-2">4.8</h4>
<p>pdf = <span class="math inline">\(f(x)=12x^2(1-x)\quad for \quad  0 \le x \le 1\)</span></p>
<p><span class="math inline">\(P(a\le X\le b) = \int^b_a 12(\frac{x^3}{3}-\frac{x^4}{4})\)</span></p>
<p>integral_val = <span class="math inline">\(12(\frac{x^3}{3}-\frac{x^4}{4})\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">=</span> <span class="cf">function</span>(x){<span class="dv">12</span> <span class="sc">*</span> ((x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">/</span><span class="dv">3</span> <span class="sc">-</span> (x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">/</span><span class="dv">4</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Probability of finding one sample with 50% or more of impurities <span class="math inline">\(Pr(X&gt;.5)\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>P_<span class="fl">.5</span>_1 <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">1</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Using formula for binomial distribution on page 94 and n = 4:</p>
<ol type="a">
<li>Out of 4 samples, the probability of exactly one sample having a proportion of impurities exceeding 0.5:</li>
</ol>
<p><span class="math inline">\(P(X = 1) = np(1 - p)^{n-1}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>P_X_1 <span class="ot">&lt;-</span> <span class="dv">4</span> <span class="sc">*</span> (P_<span class="fl">.5</span>_1) <span class="sc">*</span> ( <span class="dv">1</span> <span class="sc">-</span> P_<span class="fl">.5</span>_1)<span class="sc">^</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Probability of having exactly one sample out of four with impurities is 0.0839233.</p>
<ol start="2" type="a">
<li>Probability out of 4, of at least one sample having a proportion of impurities exceeding 0.5</li>
</ol>
<p><span class="math inline">\(P(X \ge 1) = 1-(1-p)^n\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>P_X_ge_1 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> (<span class="dv">1</span> <span class="sc">-</span> P_<span class="fl">.5</span>_1)<span class="sc">^</span><span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Probability or having at least one sample with a proportion of impurities exceeding 0.5 is 0.9904633</p>
</section>
</section>
</section>
<section id="expected-values-of-continuous-random-variables" class="level2">
<h2 class="anchored" data-anchor-id="expected-values-of-continuous-random-variables">4.2 Expected values of continuous random variables</h2>
<section id="definition-4.3-expected-value" class="level3">
<h3 class="anchored" data-anchor-id="definition-4.3-expected-value">Definition 4.3: Expected value</h3>
<blockquote class="blockquote">
<p>â€¦expected value of a continuous random variable <span class="math inline">\(X\)</span> that has a pdf of <span class="math inline">\(f(x)\)</span> is given by:</p>
</blockquote>
<p><span class="math display">\[E(X)= \int^{+\infty}_{-\infty}xf(x)\mathrm{d}x\]</span></p>
<p>Compare the observed and model mean:</p>
<p>The observed mean:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>mean_ob <span class="ot">&lt;-</span> <span class="fu">mean</span>(bat_hours_dt<span class="sc">$</span>hours)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The observed mean is 2.26794</p>
<p>For the model:</p>
<p><span class="math inline">\(\hspace{25em}E(X) = \displaystyle\int^\infty_{-\infty}xf(x)\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\displaystyle\int^9_0\frac{x}{2}e^{\frac{-x}{2}}\)</span></p>
<p><span class="math inline">\(\hspace{28em}=-e^\frac{-x}{2}(x + 2)\quad|^9_0\)</span></p>
<p><span class="math inline">\(\hspace{28em}=(-0.12219)-(-2) = 1.878\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="sc">-</span><span class="fu">exp</span>(<span class="sc">-</span>x<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> (x <span class="sc">+</span> <span class="dv">2</span>)}</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>E_X <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">9</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The expected value <span class="math inline">\(E(X)\)</span> = 1.877801</p>
</section>
<section id="theorem-4.1-egx-for-x-with-a-pdf-fx-and-another-function-gx" class="level3">
<h3 class="anchored" data-anchor-id="theorem-4.1-egx-for-x-with-a-pdf-fx-and-another-function-gx">Theorem 4.1: <span class="math inline">\(E[g(X)]\)</span> for <span class="math inline">\(X\)</span> with a pdf <span class="math inline">\(f(x)\)</span> and another function <span class="math inline">\(g(x)\)</span></h3>
<p><span class="math display">\[E[g(X)]=\int^{+\infty}_{-\infty}g(x)f(x)\mathrm{d}x\]</span></p>
<p>Following Theorem 4.1 we can define the variance for a random variable <span class="math inline">\(X\)</span> with pdf <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x) = (x - c)^2\)</span> as:</p>
<p><span class="math inline">\(\hspace{25em}V(X)=E(X-\mu)^2\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\displaystyle\int^{+\infty}_{-\infty}(x-\mu)^2f(x)\mathrm{d}x\)</span></p>
<p><span class="math inline">\(\hspace{28em}=E(X^2)-\mu^2 \quad \mu=E(X)\)</span></p>
<p>With constants <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> we can also define the following:</p>
<p><span class="math display">\[E(aX+b)= aE(X)+b\]</span> <span class="math display">\[V(aX+b)=a^2V(X)\]</span></p>
<p>Compare the observed and model variance:</p>
<p>For the observed variance:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>Var_ob <span class="ot">&lt;-</span> <span class="fu">var</span>(bat_hours_dt<span class="sc">$</span>hours)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The observed variance is 3.7343059</p>
<p>For the model variance <span class="math inline">\(V(X)\)</span>, we first compute <span class="math inline">\(E(X^2)\)</span>:</p>
<p><span class="math inline">\(\hspace{25em}E(X^2)=\displaystyle\int^{\infty}_{-\infty}x^2f(x)dx\)</span></p>
<p><span class="math inline">\(\hspace{28em}=\displaystyle\int^9_0x^2(\frac{1}{2}e^{\frac{-x}{2}})\)</span></p>
<p><span class="math inline">\(\hspace{28em}=-e^\frac{-x}{2}(x^2+4(x+2))\quad|^9_0\)</span></p>
<p>Then, <span class="math inline">\(\hspace{25em}V(X) = E(X^2) - \mu^2 \quad where \quad \mu=E(X)\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="sc">-</span><span class="fu">exp</span>(<span class="sc">-</span>x<span class="sc">/</span><span class="dv">2</span>)<span class="sc">*</span>(x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> (x  <span class="sc">+</span> <span class="dv">2</span>))}</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>Var_model <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">9</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>) <span class="sc">-</span> E_X<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The variance <span class="math inline">\(V(X)\)</span> for the model is 3.0852387</p>
</section>
<section id="exercises-1" class="level3">
<h3 class="anchored" data-anchor-id="exercises-1">Exercises</h3>
<section id="section-3" class="level4">
<h4 class="anchored" data-anchor-id="section-3">4.10</h4>
<ol type="a">
<li>pdf = <span class="math inline">\(f(x) = 2x \quad for \quad  0 \le x \le 1\)</span></li>
</ol>
<p><span class="math inline">\(E(X)=\int^\infty_\infty xf(x) = \int^1_0(x)(2x)\)</span></p>
<p>integral_val = <span class="math inline">\(\frac{2x^3}{3}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){(<span class="dv">2</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">/</span><span class="dv">3</span>}</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>E_X <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">1</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(E(X)=\)</span> 0.6666667</p>
<p>For the variance:</p>
<p><span class="math inline">\(V(X)=E(X^2) - E(X)^2\)</span></p>
<p><span class="math inline">\(E(X^2) = \int^1_0(x^2)(2x)\)</span></p>
<p>integral_val = <span class="math inline">\(\frac{x^4}{2}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){(x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">/</span><span class="dv">2</span>}</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>V_X <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">1</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>) <span class="sc">-</span> E_X<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(V(X)=\)</span> 0.0555556</p>
<ol start="2" type="a">
<li>From page 147 we have the following relationships:<br>
<span class="math inline">\(E(aX+b) = aE(X) + b\)</span></li>
</ol>
<p><span class="math inline">\(V(aX+b)=a^2V(X)\)</span></p>
<p>Thus for <span class="math inline">\(Y = 200X - 60\)</span> with <span class="math inline">\(a = 200\)</span> and <span class="math inline">\(b = -60\)</span>:</p>
<p><span class="math inline">\(E(Y)=200E(X)-60\)</span>Y</p>
<p><span class="math inline">\(V(Y)=200^2V(X)\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>E_Y <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="dv">200</span> <span class="sc">*</span> E_X <span class="sc">-</span> <span class="dv">60</span>, <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>V_Y <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="dv">200</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> V_X, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(E(Y)=\)</span> 73.333</p>
<p><span class="math inline">\(V(Y)=\)</span> 2222.222</p>
</section>
<section id="section-4" class="level4">
<h4 class="anchored" data-anchor-id="section-4">4.11</h4>
<p>pdf = <span class="math inline">\(f(x) = \frac{3}{32}(x-32)(6-x)\quad for \quad  2 \le x \le 6\)</span></p>
<p><span class="math inline">\(E(X) = \int x\frac{3}{32}(x - 2)(6 - x)\)</span></p>
<p>integral_val = <span class="math inline">\(\frac{x^3}{4}-\frac{3x^4}{128}-\frac{9x^2}{16}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){(x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">/</span><span class="dv">4</span> <span class="sc">-</span> ((<span class="dv">3</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">/</span><span class="dv">128</span>) <span class="sc">-</span> ((<span class="dv">9</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">16</span>)}</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>E_X <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">6</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(E(X)=\)</span> 4</p>
</section>
<section id="section-5" class="level4">
<h4 class="anchored" data-anchor-id="section-5">4.12</h4>
<ol type="a">
<li>pdf = <span class="math inline">\(\frac{3}{64}x^2(4-x)\quad for \quad  0 \le x \le 4\)</span></li>
</ol>
<p><span class="math inline">\(E(X) = \int^4_0 (x)(\frac{3x^2}{64}(4-x))\)</span></p>
<p>integral_val = <span class="math inline">\(\frac{3}{64}(x^4-\frac{x^5}{5})\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="dv">3</span><span class="sc">/</span><span class="dv">64</span> <span class="sc">*</span> (x<span class="sc">^</span><span class="dv">4</span> <span class="sc">-</span> (x<span class="sc">^</span><span class="dv">5</span>)<span class="sc">/</span><span class="dv">5</span>)}</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>E_X <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(E(X)=\)</span> 2.4</p>
<p><span class="math inline">\(V(X)=E(X^2) - E(X)^2\)</span></p>
<p><span class="math inline">\(E(X^2) = \int^4_0(x^2)(\frac{3}{64}x^2(4-x))\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="dv">3</span><span class="sc">/</span><span class="dv">64</span> <span class="sc">*</span> ((<span class="dv">4</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">5</span>)<span class="sc">/</span><span class="dv">5</span> <span class="sc">-</span> (x<span class="sc">^</span><span class="dv">6</span>)<span class="sc">/</span><span class="dv">6</span>)}</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>V_X <span class="ot">&lt;-</span>  <span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">0</span>) <span class="sc">-</span> E_X<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(V(X)=\)</span> 0.64</p>
<ol start="2" type="a">
<li>Using <span class="math inline">\(E(aX+b)=aE(X) + b\)</span> and <span class="math inline">\(V(aX+b)=a^2V(X)\)</span></li>
</ol>
<p>With <span class="math inline">\(a=200\)</span> and <span class="math inline">\(b=0\)</span> we hav <span class="math inline">\(Y = 200X\)</span></p>
<p><span class="math inline">\(E(Y) = 200E(X)\)</span></p>
<p><span class="math inline">\(V(Y) = 200^2V(X)\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>E_Y <span class="ot">&lt;-</span> <span class="dv">200</span> <span class="sc">*</span> E_X</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>V_Y <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="dv">200</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> V_X, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(E(Y)=\)</span> 480</p>
<p><span class="math inline">\(V(Y)=\)</span> 2.56^{4}</p>
<ol start="3" type="a">
<li>With total weekly cpu cost of $600 at $200/hour, the total weekly hours would be 600/200 or 3 hours. Find the probability of exceeding 3 hours where hours has a pdf of <span class="math inline">\(f(x)=\frac{3}{64}x^2(4-x)\)</span>.</li>
</ol>
<p><span class="math inline">\(P(X&gt;3) = \int^4_3\frac{3}{64}x^2(4-x)\)</span></p>
<p>integral_val = <span class="math inline">\(\frac{x^3}{16}-\frac{3x^4}{256}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>integral_val <span class="ot">&lt;-</span> <span class="cf">function</span>(x){x<span class="sc">^</span><span class="dv">3</span><span class="sc">/</span><span class="dv">16</span> <span class="sc">-</span> (<span class="dv">3</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">/</span><span class="dv">256</span>}</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>P_3_4 <span class="ot">&lt;-</span> <span class="fu">integral_val</span>(<span class="dv">4</span>) <span class="sc">-</span> <span class="fu">integral_val</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(P(X&gt;3)=\)</span> 0.2617188</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>